<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/4.0.0-2/css/bootstrap.min.css} "/>
    <meta charset="UTF-8" />
    <title>jndi</title>
</head>
<body>
<div class="container">
    <h3 style="color: chartreuse">MYSQL DB</h3>
    <p th:inline="text">bid : [[${mysqlRead.bid}]]</p>
    <p th:inline="text">title : [[${mysqlRead.title}]]</p>
    <p th:inline="text" id="content">content : [[${mysqlRead.content}]]</p>
    <p th:inline="text">writer : [[${mysqlRead.writer}]]</p>
    <p th:inline="text">writeDate : [[${mysqlRead.writeDate}]]</p>
    <hr/>
    <h3 style="color: blue">ORACLE DB</h3>
    <p th:inline="text">useid : [[${oracleRead.useid}]]</p>
    <p th:inline="text" id="uname">uname : [[${oracleRead.uname}]]</p>
    <p th:inline="text">country : [[${oracleRead.country}]]</p>
    <p th:inline="text">address : [[${oracleRead.address}]]</p>
    <p th:inline="text">writeDate : [[${oracleRead.writeDate}]]</p>

    <button id="updateBtn" class="btn btn-info btn-sm">수정</button>
    <form id="form" th:action="@{/}" method="post">
    </form>
</div>
<script th:src="@{/webjars/jquery/3.0.0/jquery.min.js}"></script>
<script th:src="@{/webjars/popper.js/1.12.9-1/umd/popper.min.js}"></script>
<script th:src="@{/webjars/bootstrap/4.0.0-2/css/bootstarp.min.css}"></script>
<script th:inline="javascript">
    $(document).ready(function () {
        var form= $("#form");
        $(document).on('click','#updateBtn',function (e) {
            var str="<input class='form-control' width='250'" +
                "placeholder='content 입력 :' id='updateContent'/>";
            $("#content").html(str);
            str="<input class='form-control' width='250'" +
                "placeholder='uname 입력 :' id='updateUname'/>";
                $("#uname").html(str);
            $("#updateBtn").attr("id","updateConfirmBtn");
        })

        $(document).on('click','#updateConfirmBtn',function (e){
            $('#form').attr("action","txUpdate");
            var updateContent= $('#updateContent').val();
            var updateUname = $('#updateUname').val();
            form.append("<input type='hidden' name='content' value='"+updateContent+"'/>");
            form.append("<input type='hidden' name='uname' value='"+updateUname+"'/>");
            // form.append("<input type='hidden' name='bid' value='"+[[${mysqlRead.bid}]]+"'/>");
            // form.append("<input type='hidden' name='bid' value='"+[[${oracleRead.useid}]]+"'/>");
            form.append("<input type='hidden' name='_method' value='put'/>");
            // alert(updateContent);
            // alert(updateUname);
            form.submit();
        })
    });
</script>
<!--<script th:inline="javascript">-->
<!--    $(document).ready(function (){-->
<!--        var form = $("#form");-->
<!--        $(document).on('click', '#updateBtn', function (e){-->
<!--            var str="<input class='form-control' width='250'" +-->
<!--                "placeholder='Content 입력 : ' id='updateContent'>";-->
<!--            $("#mContent").html(str);-->
<!--            str="<input class='form-control' width='250'" +-->
<!--                "placeholder='oTitle 입력 : ' id='updateTitle'>";-->
<!--                $('#oTitle').html(str);-->
<!--            $("#updateBtn").attr("id","updateConfirmBtn");-->
<!--        })-->
<!--        $(document).on('click', '#updateConfirmBtn',function (e){-->
<!--            $('#form').attr("action","txUpdate");-->
<!--        var updateTitle=$('#updateTitle').val();-->
<!--        var updateContent=$('#updateContent').val();-->
<!--        form.append("<input type='hidden' name='mContent' value='"+updateContent+"'>");-->
<!--        form.append("<input type='hidden' name='oTitle' value='"+updateTitle+"'>");-->
<!--        alert(updateTitle);-->
<!--        alert(updateContent);-->
<!--        form.submit();-->
<!--        })-->
<!--    });-->
<!--</script>-->
</body>
</html>